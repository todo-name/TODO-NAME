(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{193:function(e,t,a){e.exports=a.p+"static/media/dots.6cb12a27.png"},194:function(e,t){e.exports="data:image/png;base64,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"},195:function(e,t,a){e.exports=a.p+"static/media/exclamation.29d696ce.png"},196:function(e,t,a){e.exports=a.p+"static/media/like.12aa4dc6.svg"},197:function(e,t,a){e.exports=a.p+"static/media/red_like.23411cec.svg"},289:function(e,t,a){e.exports=a(543)},294:function(e,t,a){},543:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(13),s=a.n(o),i=(a(294),a(8)),l=a(9),c=a(17),u=a(15),m=a(70),p=a(16),d=a(45),h=a.n(d),g=(a(107),a(109),a(548)),f=a(187),b=a(71),k=a.n(b);k.a.apps.length||k.a.initializeApp({apiKey:"AIzaSyCSsZRLt_kMLB2QVJ8pzef9MD7zxdDedLU",authDomain:"todo-name.firebaseapp.com",databaseURL:"https://todo-name.firebaseio.com",projectId:"todo-name",storageBucket:"todo-name.appspot.com",messagingSenderId:"1083058940932",appId:"1:1083058940932:web:0ed87a90cfa018ee"});var E=k.a,v=function(){function e(){Object(i.a)(this,e),this.db=E.firestore().collection("posts"),this.pldb=E.firestore().collection("postsLiked")}return Object(l.a)(e,[{key:"add",value:function(e){return this.db.add(e)}},{key:"flag",value:function(e,t){this.db.doc(e).set(t,{merge:!0})}},{key:"get",value:function(e){return this.db.get().then(function(t){return t.forEach(function(t){if(t.id==e)return t.data()}),""})}},{key:"getAll",value:function(){var e=[];return this.db.get().then(function(t){return t.forEach(function(t){return e.push(Object(f.a)({},t.id,t.data()))}),e})}},{key:"likePost",value:function(e,t){var a=this;return new Promise(function(n,r){var o,s=Object.keys(e)[0],i=a.db.doc(s);i.get().then(function(e){o=e.data().likes+1,i.set({likes:o},{merge:!0}).then(function(){a.pldb.add({pid:s,uid:t}).then(function(){return n(o)})})})})}},{key:"unlikePost",value:function(e,t){var a=this;return new Promise(function(n,r){var o,s=Object.keys(e)[0],i=a.db.doc(s);i.get().then(function(e){o=e.data().likes-1,i.set({likes:o},{merge:!0}).then(function(){a.pldb.where("pid","==",s).where("uid","==",t).get().then(function(e){a.pldb.doc(e.docs[0].id).delete().then(function(){return n(o)})})})})})}},{key:"getRecent",value:function(){return this.getAll().then(function(e){return e.sort(function(e,t){e=e[Object.keys(e)[0]],t=t[Object.keys(t)[0]];var a=new Date(e.time_posted.seconds),n=new Date(t.time_posted.seconds);return a>n?-1:a<n?1:0})})}},{key:"getLikedPosts",value:function(e){var t=[];return this.pldb.where("uid","==",e).get().then(function(e){return e.forEach(function(e){t.push(e.data().pid)}),t})}}]),e}(),A=function(e){function t(e,a){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e,a))).signupClick=function(e){e.preventDefault(),n.setState({signupform:!0})},n.signinClick=function(e){n.setState({signinform:!0})},n.signoutClick=function(e){h.a.auth().signOut(),n.props.auth.signOut()},n.cancelClick=function(e){n.setState({signinform:!1,signupform:!1,registersuccess:!1,uploadForm:!1})},n.uploadClick=function(e){n.setState({uploadForm:!0})},n.handleRegister=function(e){e.preventDefault(),e.target[1].value!=e.target[2].value?(document.getElementById("passconfirm").style.display="block",n.setState({errorMessage:""})):(document.getElementById("passconfirm").style.display="none",h.a.auth().createUserWithEmailAndPassword(e.target[0].value,e.target[1].value).then(function(e){n.setState({signupform:!1,errorMessage:"",registersuccess:!0}),n.props.auth.setUser(e.user.uid)}).catch(function(e){return n.setState({errorMessage:e.message})}))},n.handleSignin=function(e){e.preventDefault(),h.a.auth().signInWithEmailAndPassword(e.target[0].value,e.target[1].value).then(function(e){n.setState({signinform:!1,errorMessage:""}),n.props.auth.setUser(e.user.uid)}).catch(function(e){return n.setState({errorMessage:e.message})})},n.handleUpload=function(e){var t=document.getElementById("title").value,a=document.getElementById("upload_image").files[0],r=document.getElementById("desc").value,o=new XMLHttpRequest;o.open("POST","https://api.imgur.com/3/image"),o.setRequestHeader("Authorization","Client-ID 987f385fd491e1d");var s=n.fb,i=n.props.auth;o.onload=function(){if(200==o.status){var e=JSON.parse(o.responseText).data;console.log(e);var a={desc:r,flagged:!1,likes:0,time_posted:new Date(1e3*e.datetime),title:t,uid:i.getUser(),url:e.link};s.add(a).then(function(e){console.log("Document written with ID: ",e.id),window.location.reload(),this.props.getRecentPosts()}).catch(function(e){console.log("Error adding document: ",e)})}};var l=new FormData;l.append("image",a),o.send(l),e.preventDefault(),n.cancelClick()},n.state={errorMessage:""},n.fb=new v,n}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e;return e=0==this.props.login?r.a.createElement("div",{className:"form-inline form-right"},r.a.createElement("button",{id:"signinButton",className:"custom-button btn btn-primary",onClick:this.signinClick},"Sign In"),r.a.createElement("button",{id:"signupButton",className:"custom-button btn btn-outline-secondary",onClick:this.signupClick},"Sign Up")):r.a.createElement("div",{className:"form-inline form-right"},r.a.createElement("button",{id:"uploadButton",className:"custom-button btn btn-primary",onClick:this.uploadClick},"Upload"),r.a.createElement("button",{id:"signoutButton",className:"custom-button btn btn-outline-secondary",onClick:this.signoutClick},"Sign Out")),r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-light bg-light sticky-top"},r.a.createElement("form",{className:"form-inline form-left flex-nowrap"},r.a.createElement("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",id:"term"}),r.a.createElement("button",{className:"btn btn-outline-success my-2 my-sm-0 search",type:"submit",onClick:this.props.search},"Search")),e),r.a.createElement(w,{signinform:this.state.signinform,cancel:this.cancelClick,handleSignin:this.handleSignin,error:this.state.errorMessage}),r.a.createElement(C,{signupform:this.state.signupform,cancel:this.cancelClick,handleRegister:this.handleRegister,error:this.state.errorMessage}),r.a.createElement(O,{cancel:this.cancelClick,registersuccess:this.state.registersuccess}),r.a.createElement(y,{uploadForm:this.state.uploadForm,cancel:this.cancelClick,upload:this.handleUpload,auth:this.props.auth}))}}]),t}(n.Component),y=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{show:this.props.uploadForm,onHide:this.props.cancel},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Upload Dog Picture")),r.a.createElement(g.a.Body,null,r.a.createElement("form",{onSubmit:this.props.upload},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"title",name:"title",className:"form-control",maxLength:"150"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"desc"},"Description"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",id:"desc",name:"description",className:"form-control",required:"required",maxLength:"500"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"upload_image"},"Upload Image"),r.a.createElement("br",null),r.a.createElement("input",{type:"file",id:"upload_image",name:"image",accept:"image/*",required:"required",onChange:this.test})),r.a.createElement("p",null,this.props.error),r.a.createElement("div",{className:"button"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Post"),r.a.createElement("button",{type:"button",className:"btn btn-secondary form-right-button",formNoValidate:"formnovalidate",onClick:this.props.cancel},"Cancel")))))}}]),t}(n.Component),w=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{show:this.props.signinform,onHide:this.props.cancel},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Sign In")),r.a.createElement(g.a.Body,null,r.a.createElement("form",{onSubmit:this.props.handleSignin},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("br",null),r.a.createElement("input",{type:"email",id:"email",className:"form-control",name:"email",required:"required",placeholder:"Enter email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"password",className:"form-control",name:"password",required:"required",placeholder:"Password"})),r.a.createElement("p",null,this.props.error),r.a.createElement("div",{className:"button"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Sign In"),r.a.createElement("button",{type:"button",className:"btn btn-secondary form-right-button",formnovalidate:"formnovalidate",onClick:this.props.cancel},"Cancel")))))}}]),t}(n.Component),C=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{show:this.props.signupform,onHide:this.props.cancel},r.a.createElement(g.a.Header,{closeButton:!0},r.a.createElement(g.a.Title,null,"Register")),r.a.createElement(g.a.Body,null,r.a.createElement("form",{onSubmit:this.props.handleRegister},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("br",null),r.a.createElement("input",{type:"email",id:"email",className:"form-control",name:"email",required:"required",placeholder:"Enter email"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"password",className:"form-control",pattern:".{6,}",title:"Six or more characters",required:"required",placeholder:"Password"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"confirm"},"Confirm password:"),r.a.createElement("br",null),r.a.createElement("input",{type:"password",id:"confirm",className:"form-control",name:"passwordconf",required:"required",placeholder:"Password confirmation"})),r.a.createElement("div",{id:"passconfirm"},r.a.createElement("p",null,"Invalid password confirmation")),r.a.createElement("p",null,this.props.error),r.a.createElement("div",{className:"button"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Register"),r.a.createElement("button",{type:"button",className:"btn btn-secondary form-right-button",formnovalidate:"formnovalidate",onClick:this.props.cancel},"Cancel")))))}}]),t}(n.Component),O=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{show:this.props.registersuccess,onHide:this.props.cancel},r.a.createElement(g.a.Body,null,r.a.createElement("p",null,"Your account has been created and you have been logged in!"),r.a.createElement("button",{type:"button",className:"btn btn-primary",formnovalidate:"formnovalidate",onClick:this.props.cancel},"Cancel")))}}]),t}(n.Component),B=a(44),j=a.n(B),D=a(52),S=a.n(D),I=a(193),N=a.n(I),P=a(194),L=a.n(P),G=a(195),R=a.n(G),x=a(105),M=a.n(x),z=a(27),Q=a(196),q=a.n(Q),Z=a(197),Y=a.n(Z),U=(a(323),{width:300,height:300,padding:8,display:"flex",flexDirection:"column"}),W=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).like=function(t){e.state.liked?(e.setState({likes:e.state.likes-1,liked:!1}),e.props.fb.unlikePost(e.props.post,e.props.auth.getUser())):(e.setState({likes:e.state.likes+1,liked:!0}),e.props.fb.likePost(e.props.post,e.props.auth.getUser()))},e.clickImage=function(){e.setState({open:!e.state.open})},e.state={likes:0,liked:!1},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({likes:this.props.post[Object.keys(this.props.post)[0]].likes,liked:this.props.liked})}},{key:"componentWillReceiveProps",value:function(e){this.setState({likes:e.post[Object.keys(e.post)[0]].likes,liked:e.liked})}},{key:"render",value:function(){var e={maxWidth:"100%",objectFit:"contain"},t=this.props.post,a=Object.keys(t)[0],n=t[a],o=null,s="";if(n.url.endsWith(".gifv")){var i=n.url.replace(".gifv",".mp4");s=i,o=r.a.createElement("video",{className:"post-img",src:i,style:e,autoPlay:!0,muted:!0,loop:!0})}else s=n.url,o=r.a.createElement("img",{className:"post-img",crossOrigin:"",style:e,src:n.url});return r.a.createElement(j.a,{item:!0},r.a.createElement(S.a,{style:U},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between"}},this.props.auth.checkLoggedIn()?r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignContent:"center"}},r.a.createElement("img",{src:this.state.liked?Y.a:q.a,width:24,height:24,onClick:this.like,style:{cursor:"pointer"}}),r.a.createElement("div",{style:{marginLeft:8}}," ",this.state.likes)):void 0,r.a.createElement("h5",null,n.title),r.a.createElement(F,{auth:this.props.auth,fb:this.props.fb,pid:a,url:s})),r.a.createElement("div",{style:{display:"flex",flex:1,minHeight:0,background:"black",marginTop:8,marginBottom:8,cursor:"pointer",justifyContent:"center"},onClick:this.clickImage},o),r.a.createElement("div",{style:{marginBottom:8}},n.desc),r.a.createElement(z.a,{open:this.state.open,onClose:this.clickImage,fullScreen:!0},r.a.createElement(z.c,null,r.a.createElement(z.e,null,r.a.createElement(M.a,{id:"close",onClick:this.clickImage})),o))))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).clickReport=function(){a.setState({open:!a.state.open})},a.clickCopy=function(){var e=document.createElement("textarea");e.value=a.props.url,document.body.appendChild(e),e.select(),document.execCommand("copy")},a.state={},a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={icon:{width:"20%"}};return r.a.createElement("div",{className:"dropdown"},r.a.createElement("img",{className:"dots dropdown-toggle",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",src:N.a}),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},r.a.createElement("a",{className:"dropdown-item",href:"#"},r.a.createElement("img",{src:L.a,style:e.icon,onClick:this.clickCopy}),"Copy Link"),this.props.auth.checkLoggedIn()?r.a.createElement("a",{className:"dropdown-item",href:"#",onClick:this.clickReport},r.a.createElement("img",{src:R.a,style:e.icon}),"Report"):void 0,r.a.createElement(K,{open:this.state.open,click:this.clickReport,fb:this.props.fb,pid:this.props.pid})))}}]),t}(n.Component),K=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).confirm=function(){e.setState({confirm:!0})},e.handleText=function(t){var a=t.target.value;e.reportInfo.reportDesc=a,e.setState({counter:500-a.length})},e.state={counter:500},e.reportInfo={flagged:!0,reportCategory:"",reportDesc:""},e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;this.state.counter;return r.a.createElement(z.a,{open:this.props.open,onClose:this.props.click,scroll:"paper",fullWidth:"false",maxWidth:"sm","aria-labelledby":"scroll-dialog-title"},r.a.createElement(z.d,{id:"customized-dialog-title",onClose:this.handleClose},"Report Image"),r.a.createElement(z.c,null,r.a.createElement("select",{onChange:function(t){return e.reportInfo.reportCategory=t.target.value}},r.a.createElement("option",{value:""}),["Not a dog","Not cute","Inappropriate","A cat","Other"].map(function(e){return r.a.createElement("option",{value:e},e)})),r.a.createElement(M.a,{id:"close",onClick:this.props.click}),r.a.createElement("textarea",{id:"report-description",type:"text",placeholder:"Tell us more...",maxLength:"500",onChange:this.handleText}),r.a.createElement("p",null,"Characters left: ",this.state.counter)),r.a.createElement(z.b,null,r.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){e.props.fb.flag(e.props.pid,e.reportInfo),e.confirm()}},"Report")),r.a.createElement(z.a,{open:this.state.confirm,onClose:this.props.click},r.a.createElement(z.c,null,"Report submitted!"),r.a.createElement(z.b,null,r.a.createElement("button",{type:"button",onClick:this.props.click},"Close"))))}}]),t}(n.Component),X=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).fb=new v,e}return Object(p.a)(t,e),Object(l.a)(t,[{key:"checkLiked",value:function(e){return this.props.postsLiked.includes(e)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,spacing:32,direction:"row",justify:"center",alignItems:"center",style:{margin:0,width:"100%"}},this.props.post.map(function(t,a){return r.a.createElement(W,{key:a,post:t,fb:e.fb,auth:e.props.auth,liked:e.checkLiked(Object.keys(t)[0])})})))}}]),t}(n.Component),T=a(547),H=function(){function e(){Object(i.a)(this,e),this.user=void 0,this.postsLiked=new T.a([])}return Object(l.a)(e,[{key:"setUser",value:function(e){this.user=e}},{key:"getUser",value:function(){return this.user}},{key:"checkLoggedIn",value:function(){return void 0!==this.user}},{key:"signOut",value:function(){this.user=void 0}},{key:"addLikedPosts",value:function(e){this.postsLiked.next(e)}}]),e}(),J=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).searchClick=function(e){e.preventDefault();var t=document.getElementById("term").value.toLowerCase();""==t?a.getRecentPosts():(t.includes(" ")&&(t=t.split(" ")),(new v).getRecent().then(function(e){for(var n=[],r=0;r<e.length;r++){var o=Object.keys(e[r])[0],s=e[r][o];if("string"==typeof t)s.desc.toLowerCase().includes(t)&&n.push(e[r]);else for(var i=0;i<t.length;i++)s.desc.toLowerCase().includes(t[i])&&(n.push(e[r]),i=t.length)}a.setState({postsData:n})}))},a.state={login:!1,postsData:[],postsLiked:[]},a.getRecentPosts=a.getRecentPosts.bind(Object(m.a)(a)),a.auth=new H,a.fb=new v,a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new v;t.getAll().then(function(e){return console.log(e)}),this.auth.postsLiked.subscribe(function(t){return e.setState({postsLiked:t})});h.a.auth().onAuthStateChanged(function(a){a?(e.setState({login:!0}),e.auth.setUser(a.uid),t.getLikedPosts(a.uid).then(function(t){return e.auth.addLikedPosts(t)})):e.setState({login:!1})});this.getRecentPosts()}},{key:"getRecentPosts",value:function(){var e=this;(new v).getRecent().then(function(t){console.log(t),e.setState({postsData:t}),console.log(e.state.postsData)})}},{key:"render",value:function(){var e=r.a.createElement(X,{auth:this.auth,post:this.state.postsData,postsLiked:this.state.postsLiked});return r.a.createElement("div",null,r.a.createElement(A,{getRecentPosts:this.getRecentPosts,login:this.state.login,postGrid:e,auth:this.auth,search:this.searchClick,upload:this.upload,uploadForm:this.state.uploadForm}),e)}}]),t}(n.Component);var V=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[289,1,2]]]);
//# sourceMappingURL=main.570e0574.chunk.js.map